<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vague — meet and call!</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header class="header">
      <h1 class="vague-title">Vague</h1>
    </header>
    <div class="container">
      <div class="vague-card description">
        <p class="description-text">— это сервис для знакомств</p>
        <ol class="description-text">
          <li>Зарегистрируйся</li>
          <li>Отфильтруй по своим предпочтениям</li>
          <li>Лайкни, кто тебе нравится</li>
          <li>Проверь мэтч</li>
          <li>
            Есть мэтч? Звони! Теперь номер пользователя стал для тебя доступен!
          </li>
        </ol>
      </div>
      <div class="row-cards">
        <div class="vague-card login">
          <h1 class="new-user-title">Авторизация</h1>
          <form name="vague-authorization" method="post" action="">
            <p class="field-name">Логин</p>
            <input type="text" name="login" required />
            <p class="field-name">Пароль</p>
            <input type="password" name="password" required /><br>
            <button type="submit" class="btn-block" href="/" >Войти</button>
          </form>
        </div>

        <div class="vague-card registration">
          <h1 class="new-user-title">В первый раз?</h1>
          <form name="vague-registration" method="post" action="">
            <p class="field-name">Ваше имя</p>
            <input type="text" name="name_user" required />
            <p class="field-name">Логин</p>
            <input type="text" name="login" required />
            <p class="field-name">Пароль</p>
            <input type="password" name="password" required />
            <p class="field-name">Возраст</p>
            <input type="text" name="age" required />
            <button type="submit" class="btn-block" href="/" onclick="logIn()">
              Зарегистрироваться
            </button>
          </form>
        </div>
      </div>
    </div>

  <script>

    function logIn(){

      var userName = document.getElementById("name_user").value;
      var userLogin = document.getElementById("login").value;
      var userPassword = document.getElementById("password").value;
      var userAge = document.getElementById("age").value;

      var xmlhttp = new XMLHttpRequest();
      xmlhttp.open("POST", "http://localhost:8081/vague/login", true);
      xmlhttp.setRequestHeader("Content-Type", "application/json");
      xmlhttp.send(JSON.stringify({login: userLogin, password: userPassword, gender: null, place: null, name: userName, info: null, phone: null,   age: userAge}));

    }


  </script>

  </body>
</html>
